---
sidebar: sidebar 
permalink: task-configuring-proxy.html 
keywords: proxy, proxy server, proxy, internet, HTTP, http, https 
summary: 社内ポリシーで、インターネットへのすべての通信にプロキシサーバを使用する必要がある場合は、そのプロキシサーバを使用するようにコネクタを設定する必要があります。インストール時にプロキシサーバを使用するようにコネクタを設定していない場合は、いつでもそのプロキシサーバを使用するようにコネクタを設定できます。 
---
= プロキシサーバを使用するようにコネクタを設定します
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
社内ポリシーで、インターネットへのすべての通信にプロキシサーバを使用する必要がある場合は、そのプロキシサーバを使用するようにコネクタを設定する必要があります。インストール時にプロキシサーバを使用するようにコネクタを設定していない場合は、いつでもそのプロキシサーバを使用するようにコネクタを設定できます。

BlueXPはHTTPとHTTPSをサポートしていますプロキシサーバは、クラウドまたはネットワークに配置できます。

プロキシサーバを使用するようにコネクタを設定すると、パブリックIPアドレスまたはNATゲートウェイを使用できない場合に、アウトバウンドインターネットアクセスが提供されます。このプロキシサーバは、アウトバウンド接続を持つコネクタのみを提供します。Cloud Volumes ONTAP システムへの接続は提供しません。

Cloud Volumes ONTAP システムにAutoSupport メッセージを送信するためのアウトバウンドインターネット接続がない場合、コネクタに含まれているプロキシサーバを使用するようにCloud Volumes ONTAP システムが自動的に設定されます。唯一の要件は、コネクタのセキュリティグループがポート3128を介したインバウンド接続を許可することです。コネクタを展開した後、このポートを開く必要があります。



== コネクタでプロキシを有効にします

プロキシサーバ、そのコネクタ、および管理対象の Cloud Volumes ONTAP システム（ HA メディエーターを含む）を使用するようにコネクタを設定すると、すべてのでプロキシサーバが使用されます。

この操作により、コネクタが再起動されます。続行する前に、コネクタが操作を実行していないことを確認してください。

.手順
. [BlueXPコネクタの編集]*ページに移動します。
+
操作方法は、BlueXPを標準モード（SaaS WebサイトからBlueXPインターフェイスにアクセス）で使用しているか、制限モードとプライベートモード（コネクタホストからローカルにBlueXPインターフェイスにアクセス）で使用しているかによって異なります。

+
[role="tabbed-block"]
====
.標準モード
--
.. BlueXPヘッダーの* Connector *ドロップダウンを選択します。
.. [コネクタの管理]*を選択します。
+
image:screenshot-manage-connectors.png["コネクタの選択後に表示される[Manage Connectors]ページのスクリーンショット。"]

.. コネクターのアクションメニューを選択し、*コネクターを編集*を選択します。
+
image:screenshot-edit-connector-standard.png["アクションメニューから使用できる[Edit Connectors]オプションを示すスクリーンショット。"]



--
.制限モードまたはプライベートモード
--
.. BlueXPヘッダーの* Connector *ドロップダウンを選択します。
.. [Edit Connector]*を選択します。
+
image:screenshot-edit-connector.png["[Connector]メニューを展開すると使用できる[Edit Connector]オプションを示すスクリーンショット。"]



--
====
. [HTTP Proxy Configuration]*を選択します。
. プロキシを設定します。
+
.. [Enable Proxy]*を選択します。
.. 構文を使用してサーバを指定します http://_address:port_[] または https://_address:port_[]
.. サーバでベーシック認証が必要な場合は、ユーザ名とパスワードを指定します。
+
次の点に注意してください。

+
*** ユーザには、ローカルユーザまたはドメインユーザを指定できます。
*** ドメインユーザの場合は、\のASCIIコードを次のように入力する必要があります。domain-name%92user-name
+
例：NetApp%92proxy

*** BlueXPでは、@文字を含むパスワードはサポートされていません。


.. [ 保存（ Save ） ] を選択します。






== API の直接トラフィックを有効にします

プロキシサーバを使用するようにコネクタを設定した場合は、コネクタで直接APIトラフィックを有効にして、プロキシを経由せずにAPI呼び出しをクラウドプロバイダサービスに直接送信できます。このオプションは、 AWS 、 Azure 、または Google Cloud で実行されているコネクタでサポートされます。

Cloud Volumes ONTAP でAzureプライベートリンクの使用を無効にし、代わりにサービスエンドポイントを使用している場合は、ダイレクトAPIトラフィックを有効にする必要があります。そうしないと、トラフィックは適切にルーティングされません。

https://docs.netapp.com/us-en/bluexp-cloud-volumes-ontap/task-enabling-private-link.html["Azure Private LinkまたはサービスエンドポイントをCloud Volumes ONTAP で使用する方法の詳細については、こちらをご覧ください"^]

.手順
. [BlueXPコネクタの編集]*ページに移動します。
+
操作方法は、BlueXPを標準モード（SaaS WebサイトからBlueXPインターフェイスにアクセス）で使用しているか、制限モードとプライベートモード（コネクタホストからローカルにBlueXPインターフェイスにアクセス）で使用しているかによって異なります。

+
[role="tabbed-block"]
====
.標準モード
--
.. BlueXPヘッダーの* Connector *ドロップダウンを選択します。
.. [コネクタの管理]*を選択します。
+
image:screenshot-manage-connectors.png["コネクタの選択後に表示される[Manage Connectors]ページのスクリーンショット。"]

.. コネクターのアクションメニューを選択し、*コネクターを編集*を選択します。
+
image:screenshot-edit-connector-standard.png["アクションメニューから使用できる[Edit Connectors]オプションを示すスクリーンショット。"]



--
.制限モードまたはプライベートモード
--
.. BlueXPヘッダーの* Connector *ドロップダウンを選択します。
.. [Edit Connector]*を選択します。
+
image:screenshot-edit-connector.png["[Connector]メニューを展開すると使用できる[Edit Connector]オプションを示すスクリーンショット。"]



--
====
. [サポート][Direct API Traffic]*を選択します。
. チェックボックスをオンにしてオプションを有効にし、*[保存]*を選択します。

